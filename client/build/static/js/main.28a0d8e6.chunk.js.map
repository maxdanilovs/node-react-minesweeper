{"version":3,"sources":["images/sad.png","images/smile.png","images/sunglasses.png","images/clock.png","images/minesweeper_logo.png","context/AppReducer.js","context/GlobalState.js","components/Navbar.js","components/Field.js","components/Minesweeper.js","components/TimerCounter.js","components/GameOverModal.js","App.js","index.js"],"names":["module","exports","state","action","type","mode","container","document","getElementById","removeAttribute","classList","add","gameContainerSize","payload","gameMode","columns","cols","mines","gameStatus","gameBoard","createBoard","rows","recordList","openFields","fieldId","flagged","board","id","newBoard","mine","field","placeFlag","openAllFields","time","openedFields","forEach","oField","status","minesAround","dataField","opened","row","col","i","push","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","startNewGame","Axios","all","post","then","res","data","boardParams","records","catch","err","console","log","useEffect","Provider","value","handleFieldOpening","recordTime","handleFlag","handleClearance","Navbar","useContext","useState","showRecord","setShowRecord","handleClick","e","preventDefault","target","className","map","record","key","_id","name","onClick","Field","React","memo","Fragment","onContextMenu","onMouseDown","buttons","Minesweeper","fields","count","displayBoard","TimerCounter","setTime","timer","setTimer","setInterval","clearInterval","src","clock","alt","sunglassesEmoji","sadEmoji","smileEmoji","GameOverModal","setName","active","setActive","handleClose","focus","onChange","placeholder","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.28a0d8e6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sad.2d09f7da.png\";","module.exports = __webpack_public_path__ + \"static/media/smile.0cc72ca4.png\";","module.exports = __webpack_public_path__ + \"static/media/sunglasses.39c83107.png\";","module.exports = __webpack_public_path__ + \"static/media/clock.5e80d465.png\";","module.exports = __webpack_public_path__ + \"static/media/minesweeper_logo.95751f94.png\";","export default (state, action) => {\n  switch(action.type) {\n    case 'NEW_GAME':\n      gameContainerSize(action.payload.gameMode);\n      return {\n        ...state,\n        columns: action.payload.cols,\n        mines: action.payload.mines,\n        gameMode: action.payload.gameMode,\n        gameStatus: 'stopped',\n        gameBoard: createBoard(action.payload.rows, action.payload.cols)\n      }\n    case 'DISPLAY_RECORDS':\n      return {\n        ...state,\n        recordList: action.payload\n      }\n    case 'OPEN_FIELD':\n      return {\n        ...state,\n        gameStatus: state.gameStatus === 'stopped' ? 'gameon' : state.gameStatus,\n        gameBoard: openFields(state.gameBoard, action.payload)\n      }\n    case 'PLACE_FLAG':\n      const { fieldId, flagged } = action.payload;\n      const { board, mine } = placeFlag(state.gameBoard, fieldId, flagged);\n      return {\n        ...state,\n        mines: state.mines + mine,\n        gameBoard: board\n      }\n    case 'LOST_GAME':\n      return {\n        ...state,\n        gameStatus: 'lost',\n        gameBoard: openAllFields(state.gameBoard, action.payload)\n      }\n    case 'WON_GAME':\n      return {\n        ...state,\n        gameStatus: 'won',\n        time: action.payload\n      }\n    default:\n      return state;\n  }\n}\n\nfunction openFields(board, openedFields) {\n  const newBoard = [...board];\n\n  newBoard.forEach(field => {\n    openedFields.forEach(oField => {\n      if (field.id === oField.id) {\n        field.status = oField.minesAround;\n      }\n    })\n  })\n  return newBoard;\n}\n\nfunction openAllFields(board, openedFields) {\n  const newBoard = [...board];\n\n    newBoard.forEach(field => {\n      openedFields.forEach(dataField => {\n        if (field.id === dataField.id) {\n          field.status = dataField.minesAround\n          if (dataField.mine) {\n            field.status = \"mine\"\n          }\n          if (dataField.opened && dataField.mine) {\n            field.status += \" red\"\n          }\n        }\n      })\n    })\n    return newBoard;\n}\n\nfunction placeFlag(board, id, flagged) {\n  const newBoard = [...board];\n  let mine = 1;\n\n  for (let field of newBoard) {\n    if (field.id === id) {\n      field.flagged = flagged;\n      if (field.flagged) mine = -1;\n      break;\n    }\n  }\n  return { board: newBoard, mine: mine };\n}\n\nfunction createBoard(row, col) {\n  const board = [];\n\n  for (let i = 1; i <= (row*col); i++) {\n    board.push({\n      id: i,\n      status: 'unopened',\n      flagged: false\n    })\n  }\n  return board;\n}\n\nfunction gameContainerSize(mode) {\n  const container = document.getElementById('game-container');\n  container.removeAttribute('class');\n  container.classList.add(`${mode}-container`);\n}\n","import React, { useEffect, createContext, useReducer } from 'react';\nimport AppReducer from './AppReducer';\nimport Axios from 'axios';\n\n//initial state\nconst initialState = {\n  gameBoard: [],\n  recordList: [],\n  columns: 0,\n  mines: 0,\n  time: 0,\n  gameMode: 'easy',\n  gameStatus: 'stopped'\n}\n\n//create context\nexport const GlobalContext = createContext(initialState);\n\n//provider component\nexport const GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  useEffect(() => {\n    startNewGame('easy');\n  }, [])\n\n  //actions\n  function handleFieldOpening(id) {\n    Axios.post('/games/handle_left_click', { fieldId: id })\n    .then(res => {\n      const { gameStatus, board, recordTime } = res.data;\n      if (gameStatus === -1) {\n        dispatch({\n          type: 'LOST_GAME',\n          payload: board\n        })\n      } else if (gameStatus === 1) {\n        dispatch({\n          type: 'WON_GAME',\n          payload: recordTime\n        })\n      } else {\n        dispatch({\n          type: 'OPEN_FIELD',\n          payload: board\n        })\n      }\n    })\n    .catch(err => console.log(err));\n  }\n\n  function handleClearance(id) {\n    Axios.post('/games/handle_clearance', { fieldId: id })\n    .then(res => {\n      const { gameStatus, board, recordTime } = res.data;\n      if (gameStatus === -1) {\n        dispatch({\n          type: 'LOST_GAME',\n          payload: board\n        })\n      } else if (gameStatus === 1) {\n        dispatch({\n          type: 'WON_GAME',\n          payload: recordTime\n        })\n      } else {\n        dispatch({\n          type: 'OPEN_FIELD',\n          payload: board\n        })\n      }\n    })\n    .catch(err => console.log(err));\n  }\n\n  function handleFlag(id) {\n    Axios.post('/games/handle_right_click', { fieldId: id })\n    .then(res => {\n      dispatch({\n        type: 'PLACE_FLAG',\n        payload: { fieldId: res.data.fieldId, flagged: res.data.flagged }\n      });\n    })\n    .catch(err => console.log(err));\n  }\n\n  function startNewGame(gameMode = state.gameMode) {\n    Axios.all([\n      Axios.post('/games/new_game', { gameMode }),\n      Axios.post('/records/', { gameMode })\n    ])\n    .then(res => {\n      dispatch({\n        type: 'NEW_GAME',\n        payload: res[0].data.boardParams\n      });\n      dispatch(\n      {\n        type: 'DISPLAY_RECORDS',\n        payload: res[1].data.records\n      })\n    })\n    .catch(err => console.log(err));\n  }\n\n  return (\n    <GlobalContext.Provider value={{\n      gameBoard: state.gameBoard,\n      columns: state.columns,\n      mines: state.mines,\n      gameStatus: state.gameStatus,\n      time: state.time,\n      recordList: state.recordList,\n      gameMode: state.gameMode,\n      handleFieldOpening,\n      handleFlag,\n      handleClearance,\n      startNewGame\n    }}>\n      {children}\n    </GlobalContext.Provider>\n  )\n}\n","import React, { useContext, useState } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\n\nfunction Navbar() {\n  const { startNewGame, recordList, gameMode } = useContext(GlobalContext);\n\n  const [showRecord, setShowRecord] = useState(false);\n\n  function handleClick(e) {\n    e.preventDefault();\n    startNewGame(e.target.value)\n  }\n\n  function handleRecord(e) {\n    e.preventDefault();\n    setShowRecord(!showRecord);\n  }\n\n  return (\n    <>\n      <div className={`${showRecord ? \"show\" : \"\"} ${gameMode}`} id=\"records\">\n        <ol>\n        { recordList.map(record => (\n          <li key={record._id}><div><p>{record.name}</p><p>{record.recordTime}</p></div></li>\n          )) }\n        </ol>\n      </div>\n      <div className=\"navbar\">\n        <button\n          className={`records-btn ${gameMode} ${showRecord ? 'active' : ''}`}\n          onClick={handleRecord}>\n          {showRecord ? \"Hide Records\" : \"Show Records\"}\n        </button>\n        <h1 className=\"navbar-brand\">Minesweeper</h1>\n        <div className=\"navbar-game-mode\">\n          <button\n            className={`easy ${gameMode === 'easy' ? 'active' : ''}`}\n            onClick={handleClick}\n            value=\"easy\">Easy</button>\n          <button\n            className={`pro ${gameMode === 'pro' ? 'active' : ''}`}\n            onClick={handleClick}\n            value=\"pro\">Pro</button>\n          <button\n            className={`expert ${gameMode === 'expert' ? 'active' : ''}`}\n            onClick={handleClick}\n            value=\"expert\">Expert</button>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Navbar;\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\n\nconst Field = React.memo(({ id, status, flagged }) => {\n\n  const { handleFieldOpening, handleFlag, handleClearance, mines } = useContext(GlobalContext);\n\n  function handleClick(e) {\n    e.preventDefault();\n    if (status !== 'unopened' || flagged) return;\n    handleFieldOpening(id);\n  }\n\n  function handleRightClick(e) {\n    e.preventDefault();\n    if (status !== 'unopened' || (mines === 0 && !flagged)) return;\n    handleFlag(id);\n  }\n\n  function handleMouseDown(e) {\n    e.preventDefault();\n    if (status === 'unopened') return;\n    if (e.buttons === 4 || e.buttons === 3) {\n      handleClearance(id)\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <td>\n      <span\n      className={flagged ? 'flagged' : `mines-${status}`}\n      onClick={handleClick}\n      onContextMenu={handleRightClick}\n      onMouseDown={handleMouseDown}></span>\n      </td>\n    </React.Fragment>\n  )\n})\n\nexport default Field;\n","import React, { useContext } from 'react';\nimport Field from './Field';\nimport { GlobalContext } from '../context/GlobalState';\n\nfunction Minesweeper() {\n\n  const { gameBoard, columns, gameMode } = useContext(GlobalContext);\n\n  function displayBoard(cols) {\n    let fields = [];\n    const board = [];\n    let count = 0;\n    gameBoard.forEach(field => {\n      fields.push(<Field\n          key={field.id}\n          id={field.id}\n          status={field.status}\n          flagged={field.flagged}\n        />)\n      count += 1;\n      if (count === cols) {\n        board.push(<tr key={field.id}>{fields}</tr>);\n        fields = [];\n        count = 0;\n      }\n    });\n    return board;\n  }\n\n  return (\n    <div>\n      <table className={`minesweeper ${gameMode}-size`}>\n        <tbody>\n          {displayBoard(columns)}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default Minesweeper;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport sadEmoji from '../images/sad.png';\nimport smileEmoji from '../images/smile.png';\nimport sunglassesEmoji from '../images/sunglasses.png';\nimport clock from '../images/clock.png';\nimport mine from '../images/minesweeper_logo.png';\n\n\nfunction TimerCounter() {\n  const { gameStatus, mines, startNewGame } = useContext(GlobalContext);\n  const [time, setTime] = useState(0);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    if (gameStatus === 'gameon') {\n      startTimer();\n    } else if (gameStatus === 'stopped') {\n      clearInterval(timer);\n      setTime(0);\n    } else {\n      clearInterval(timer);\n    }\n  }, [gameStatus] )\n\n  function startTimer() {\n    setTimer(setInterval(() => {\n      setTime(time => time + 1);\n    }, 1000))\n  }\n\n  function setEmoji(status) {\n    if (status === 'won') {\n      return sunglassesEmoji;\n    } else if (status === 'lost') {\n      return sadEmoji;\n    } else {\n      return smileEmoji;\n    }\n  }\n\n  return (\n    <div className=\"timer-counter\">\n    <div className=\"tc-display\">\n      <img src={clock} className=\"clock\" alt=\"\"/>\n      <p className=\"\">{time < 10 ? `0${time}` : time}</p>\n    </div>\n    <div className=\"tc-display\">\n        <img src={setEmoji(gameStatus)} alt=\"Restart\" className=\"emoji\" onClick={() => startNewGame()}/>\n    </div>\n        <div className=\"tc-display\">\n        <img src={mine} alt=\"\"/>\n        <p className=\"\">{ mines }</p>\n        </div>\n    </div>\n  )\n}\n\nexport default TimerCounter;\n","import React, { useContext, useState, useEffect } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport Axios from 'axios';\n\nfunction GameOverModal() {\n  const { gameStatus, time, startNewGame } = useContext(GlobalContext);\n  const [name, setName] = useState('');\n  const [active, setActive] = useState(false);\n\n  useEffect(() => {\n    if (gameStatus === 'won') {\n      setActive(true);\n      document.getElementById('modal-input').focus();\n    }\n  }, [gameStatus])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    Axios.post('/records/create', {\n      name\n    }).then(res => {\n      console.log(res);\n      startNewGame();\n    });\n      setActive(false);\n      setName('');\n  }\n\n  function handleChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleClose(e) {\n    e.preventDefault();\n    setActive(false);\n  }\n\n  return (\n    <div id=\"modal-background\" className={active ? 'active' : ''}>\n      <div id=\"modal-container\" className={active ? 'active' : ''}>\n      <span onClick={handleClose} className=\"close\"></span>\n        <div className=\"modal-content\">\n          <h1>You Win!</h1>\n          <h2>Your time: {time} seconds</h2>\n          <form>\n            <input type=\"text\" id=\"modal-input\" onChange={handleChange} value={name} placeholder=\"enter your name\"/>\n            <input type=\"submit\" onClick={handleSubmit} value=\"Save Record\"/>\n          </form>\n          <br/>\n          <button onClick={handleClose} className=\"restart-button\">Restart Game</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default GameOverModal;\n","import React from 'react';\nimport Navbar from './components/Navbar';\nimport Minesweeper from './components/Minesweeper';\nimport TimerCounter from './components/TimerCounter';\nimport GameOverModal from './components/GameOverModal';\nimport { GlobalProvider } from './context/GlobalState';\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <div className=\"app\">\n        <Navbar />\n        <div id=\"game-container\" onContextMenu={(e) => e.preventDefault()}>\n          <TimerCounter />\n          <Minesweeper />\n        </div>\n        <GameOverModal />\n      </div>\n    </GlobalProvider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// Style\nimport './style/app.scss';\nimport './style/game_modal.scss';\nimport './style/minesweeper.scss';\nimport './style/navbar.scss';\nimport './style/timer_counter.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}